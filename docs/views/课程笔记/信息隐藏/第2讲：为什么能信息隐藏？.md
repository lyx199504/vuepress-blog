---
title: 【信息隐藏】第2讲：为什么能信息隐藏？
date: 2020-10-05
sidebar: auto
tags:
 - 信息隐藏
categories:
 - 课程笔记
---

## 1 从数字图像的表示说起

- 一幅图像可用一个二元函数$I=f(x,y)$表示，$x$和$y$是空间（平面）坐标，$f$在任何坐标点$(x,y)$处的振幅称为图像在该点的亮度

- 灰度是用来表示黑白图像亮度的一个术语，彩色图像是由单个二维图像组合形成。例如：在RGB彩色系统中，一幅彩色图像是由三幅独立的分量图像（红、绿、蓝）组成的

- $I=f(x,y)$所表示的图像是连续的。为了方便计算机处理，要求数字化坐标和振幅。数字化后的图像称为数字图像$I=f(x,y)$

- 数字图像的函数表示
  $$
  f(x,y)=
  \begin{bmatrix}
  f(0,0) & f(0,1) & \cdots & f(0,N-1) \\
  f(1,0) & f(1,1) & \cdots & f(1,N-1) \\
  \vdots & \vdots &        & \vdots   \\
  f(M-1,0) & f(M-1,1) & \cdots & f(M-1,N-1)
  \end{bmatrix}
  $$
  该数组的每一个元素称为像素（pixel）

- 图形图像文件可以分为两大类：位图文件（Bitmap）和矢量（Vector）文件

  - 位图文件以点阵形式描述图形图像，矢量文件以数学方法描述图形图像
  - 位图文件适合描述照片，矢量文件适合描述图形，使用位图文件进行信息隐藏

- 在物理光学中，红、绿、蓝（RGB）被称为光学三原色。任何色彩（严格说是绝大多数色彩）都可以用红、绿、蓝这三种颜色按一定的比例混合而得

  - 例如：红+绿+蓝 = 白色，红+绿=黄色

- 可以用一个由R、G、B为坐标轴定义的单位立方体来描述一个符合视觉理论的颜色模型。原点代表黑色，$(1,1,1)$代表白色，将坐标轴上的顶点称为基色。立方体中的每一个颜色由一个三元组$(R,G,B)$表示，每一个分量的数值均在$[0,1]$区间

  ![RGB模型](/views/RGB模型.png)

## 2 调色板的概念

- 位图中的颜色如何在矩阵中体现：调色板
- 调色板是包含不同颜色的颜色表，每种颜色以红、绿、蓝三种颜色的组合来表示
- 图像的每一个像素对应一个数字，而该数字对应调色板中的一种颜色，如某像素值为1，则表示该颜色为调色板的编号为1的颜色
- 调色板的单位个数是与图像的颜色数相对应的
- 不同的图像有不同的调色板
- 一个图像的调色板所含有的色彩个数取决于数字图像的量化方式
- 将像素点上的灰度值离散为整数，称之为量化
- 量化等级是指每幅图像量化后一共可取多少个像素点，或用多少个二进制数位来表示
- 量化的结果反映了图像容纳的所有颜色数据，例如：
  - 以4bit存储一个点，就表示图像只能有16种颜色
  - 数值范围越大，表示图像可以拥有更多的颜色，可以产生更为我精细的图像效果
  - 量级越高，图像质量就越高，存储空间要求就越大

## 3 位图的二维矩阵表示

- 根据图像调色板的存在方式以及矩阵数值与像素颜色间的对应关系，定义四种基本的图像类型：二进制图像、索引图像、灰度图像、RGB图像

## 4 二进制图像

- 一个二进制图像是纯黑白的，图像像素只存在0，1两个值，0表示黑，1表示白
- 二进制图像能够使用无符号8位整型（uint8）或双精度类型（double）的数组来存储

## 5 索引图像

- 索引图像是一种把像素值直接作为RGB调色板下标的图像
- 一幅索引图包含一个数据矩阵data和以额调色板矩阵map
  - data可以是uint8、uint16或双精度类型，而map矩阵总是一个m×3的双精度类型矩阵（m表示颜色数目），该矩阵的元素都是[0,1]内的浮点数
  - map矩阵的每一行指定一个颜色的红、绿、蓝颜色分量
- 索引图像可以把像素值直接映射为调色板数值，每一个像素的颜色使用data的数值作为map的下标来获得，例如：数值1表示map的第一行，数值2表示map的第二行，以此类推

## 6 灰度图像

- 灰度图像是包含灰度级（亮度）的图像，灰度就是我们通常说的亮度
- 与二值图像不同，灰度图像的像素并不是纯黑（0）和纯白（1）那么简单，所以相应的其1个像素不是1bit就能表征的
- 在MATLAB中，灰度图像由一个uint8、uint16或双精度类型的数组来描述
  - 灰度图像实际上是一个数据矩阵$I$，该矩阵的每一个元素对应于图像的一个像素点，元素的数值代表一定范围内的灰度级，通常0代表黑色，1、255或65535（不同存储类型）代表白色
- 灰度图像存储时不使用调色板，因而MATLAB使用一个默认的系统调色板来显示图像
- 灰度图像的像素值就是YCbCr中每个像素的亮度分量值

## 7 RGB图像

- RGB图像不使用单独的调色板，每一个像素的颜色由存储在相应位置的红、绿、蓝颜色分量共同决定
- RGB图像是24位图像，红、绿、蓝分量分别占用8位，理论上可以包含16M种不同的颜色
- 由于这种颜色精度能够再现图像的真实色彩，所以又称为RGB图像为真彩图像
- 在MATLAB中，一幅RGB图像由一个uint8、uint16或双精度类型的m×n×3数组（通常称为RGB数组）来描述，其中m和n分别表示图像的宽度和高度
- 在一个双精度类型RGB数组中，每一个颜色分量都是一个[0,1]范围内的数值，颜色分量为(0,0,0)的像素将显示为黑色，颜色分量为(1,1,1)的像素将显示为白色
- 每一个像素三个颜色分量都存储在数据数组的第三维。例如，像素(10,5)的红、绿、蓝分量都存储在RGB(10,5,1)、RGB(10,5,2)、RGB(10,5,3)中

## 8 图像类型的相互转换

![图像类型转换](/views/图像类型转换.png)

## 9 数字图像的基本文件格式

- 图像格式与图像类型不同，指的是存储图像采用的文件格式
- 不同的操作系统、不同的图像处理系统，所支持的图像格式都有可能不同
- 实际应用中常用的几种图像格式：BMP、GIF、TIFF、PCX、JPEG、PSD、PCD、PNG等
- 使用最多的是BMP、JEGP、PNG三种

## 10 颜色模型

- 在计算机图形学领域定义的颜色模型，就是在某种特定上下文中对于颜色的特性和行为的解释方法
- 前面对色彩的讨论都是基于通过红、绿、蓝三原色混合而产生其他颜色的成色机制上
- RGB颜色模型最便于诸如视频监视器或打印机等硬件设备上表示颜色
- 但在具体的图形应用中，我们还会用到其他的一些颜色模型

### 10.1 HSV模型

- HSV模型是面向用户的，比RGB模型更接近于人们的经验和对彩色的感知

- H、S、V分别指的是色调（hue）、色饱和度（saturation）和明度（value）

- 在这个模型中，一种颜色的参数便是H、S、V三个分量构成的三元组

- HSV模型不同于RGB模型的单位立方体，它是对应于一个圆柱坐标系中的一个立体锥形子集

  ![HSV模型](/views/HSV模型.png)

  - 在这个锥形中，边界表示不同的色彩
  - H分量表示颜色的种类，取值范围为0~1，相应的颜色从红、黄、绿、蓝绿、蓝、紫到黑，它的值由绕V轴的旋转角决定，每一种颜色和它的补色之间相差180°
  - S分量的取值范围也是0~1，表示所选色彩的纯度与该色彩的最大纯度的比例，相应的颜色从未饱和（灰度）向完全饱和（无白色元素）变化，当S=0.5时表示所选色彩的纯度为二分之一
  - V分量取值范围同样是0~1，从锥形顶点0变化到顶部1，相应的颜色逐渐变亮，V=0表示黑，V=1表示白

### 10.2 YCbCr模型

- YCbCr模型又称为YUV模型，是视频图像和数字图像中常用的色彩模型
- 在YCbCr模型中，Y为亮度，Cb和Cr共同描述图像的色调（色差），其中Cb、Cr分别为蓝色分量和红色分量相对于参考值的坐标
- YCbCr模型中的数据可以是双精度类型，但存储空间为8位无符号整型数据空间，且Y的取值范围位为16~235，Cb和Cr的取值范围为16~240
- 在目前通用的图像压缩算法中（如JPEG算法），首要步骤就是将图像颜色空间转换为YCbCr空间

### 10.3 NTSC模型

- NTSC模型是一种用于电视图像的颜色模型
- NTSC模型使用的是Y.I.O色彩坐标系，其中Y为光亮度，表示灰度信息；I为色调，Q为饱和度，均表示颜色信息
- 该模型的主要优点就是将灰度信息和色彩信息区分开来，所以同一个信号既可以用于彩色电视机，又可以用于黑白电视机

### 10.4 RGB与YCbCr的转换

- RGB颜色模型与YCbCr模型的转换是通过如下线性变化完成的：
  $$
  \begin{bmatrix}
  Y \\
  Cb \\
  Cr
  \end{bmatrix}
  =
  \begin{bmatrix}
  0.299 & 0.587 & 0.114 \\
  -0.169 & -0.3316 & -0.5 \\
  0.5 & -0.4186 & -0.0813
  \end{bmatrix}
  \begin{bmatrix}
  R \\
  G \\
  B
  \end{bmatrix}
  $$

## 11 人类视觉特点与图像质量评价

- 人类视觉概念
  - 视觉范围：亮度影响很大
  - 分辨力：照度，运动等
  - 视觉适应性：暗，亮
  - 视觉惰性：亮度感觉
- 主观和客观的评价
  - 需要按照人眼的视觉特性进行信息隐藏
- 主观评价：MOS分级
- 客观评价：均方误差MSE，峰值信噪比PSNR等

## 12 图像信号处理基础

- 图像表示：像素点，信息隐藏必须了解图像的表示方式，BMP、PCX、GIF、TIF等
- 图像压缩方法：JPEG等
- 任何一张图片都是一组数字信号的组合
- 离散傅里叶变换（Discrete Fourier Transform，DFT），离散余弦变换（Discrete Cosine Transform，DCT）和离散小波变换（Discrete Wavelet Transform，DWT）是图像常用基础操作，将时域信号转换到不同变换域，导致不同程度的能量集中
- 信息隐藏利用该原理在变换域选择适当位置系统进行修改，嵌入信息，以达到不同的目的
- 空间域：又称图像空间，由图像像素组成的空间。在图像空间中以长度（距离）为自变量直接对像素值进行处理称为空间域处理
- 时域：时间是自变量，描述数学函数或物理信号对时间的关系
- 频率域：自变量是频率，即横轴是频率，纵轴是该频率信号的幅度，也就是通常说的频谱图。频谱图描述了信号的频率结构及频率与该频率信号幅度的关系。在图像处理中，变换域主要指的是频率域

## 13 常用图像变换方法

- 二维DFT
- 二维DWT
- 二维DCT

## 14 傅里叶变换

- 对信号进行傅里叶变换就是求信号的频谱
- 任何信号都可以看作是不同振幅，不同相位正弦波（正弦曲线）的叠加
- sine与cosine函数的曲线是相位不同的正弦波
- 正弦波就是一个圆周运动在一条直线上的投影